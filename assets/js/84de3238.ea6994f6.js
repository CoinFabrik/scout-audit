"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[6788],{4864:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>r,contentTitle:()=>c,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"detectors/ink/dont-use-instantiate-contract-v1","title":"Don\'t use instantiate_contract_v1","description":"What it does","source":"@site/docs/detectors/ink/33-dont-use-instantiate-contract-v1.md","sourceDirName":"detectors/ink","slug":"/detectors/ink/dont-use-instantiate-contract-v1","permalink":"/scout-audit/docs/detectors/ink/dont-use-instantiate-contract-v1","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/detectors/ink/33-dont-use-instantiate-contract-v1.md","tags":[],"version":"current","sidebarPosition":33,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Don\'t use invoke_contract_v1","permalink":"/scout-audit/docs/detectors/ink/dont-use-invoke-contract-v1"},"next":{"title":"Divide before multiply","permalink":"/scout-audit/docs/detectors/soroban/divide-before-multiply"}}');var s=n(5105),o=n(6755);const a={},c="Don't use instantiate_contract_v1",r={},d=[{value:"What it does",id:"what-it-does",level:3},{value:"Why is this bad?",id:"why-is-this-bad",level:3},{value:"More info",id:"more-info",level:4},{value:"Implementation",id:"implementation",level:3}];function l(t){const e={a:"a",code:"code",h1:"h1",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",ul:"ul",...(0,o.R)(),...t.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"dont-use-instantiate_contract_v1",children:"Don't use instantiate_contract_v1"})}),"\n",(0,s.jsx)(e.h3,{id:"what-it-does",children:"What it does"}),"\n",(0,s.jsxs)(e.p,{children:["Checks that method ",(0,s.jsx)(e.code,{children:"instantiate_contract_v1"})," is not used in the contract."]}),"\n",(0,s.jsx)(e.h3,{id:"why-is-this-bad",children:"Why is this bad?"}),"\n",(0,s.jsxs)(e.p,{children:["This is a low level way to instantiate another smart contract, calling the legacy ",(0,s.jsx)(e.code,{children:"instantiate_v1"})," host function."]}),"\n",(0,s.jsxs)(e.p,{children:["Prefer to use methods on a ",(0,s.jsx)(e.code,{children:"ContractRef"})," or the ",(0,s.jsx)(e.code,{children:"CreateBuilder"})," through ",(0,s.jsx)(e.code,{children:"build_create"})," instead."]}),"\n",(0,s.jsx)(e.h4,{id:"more-info",children:"More info"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://docs.rs/ink_env/5.0.0/ink_env/fn.instantiate_contract_v1.html",children:"https://docs.rs/ink_env/5.0.0/ink_env/fn.instantiate_contract_v1.html"})}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"implementation",children:"Implementation"}),"\n",(0,s.jsxs)(e.p,{children:["The detector's implementation can be found at ",(0,s.jsx)(e.a,{href:"https://github.com/CoinFabrik/scout/tree/main/detectors/dont-use-instantiate-contract-v1",children:"this link"}),"."]})]})}function h(t={}){const{wrapper:e}={...(0,o.R)(),...t.components};return e?(0,s.jsx)(e,{...t,children:(0,s.jsx)(l,{...t})}):l(t)}},6755:(t,e,n)=>{n.d(e,{R:()=>a,x:()=>c});var i=n(8101);const s={},o=i.createContext(s);function a(t){const e=i.useContext(o);return i.useMemo((function(){return"function"==typeof t?t(e):{...e,...t}}),[e,t])}function c(t){let e;return e=t.disableParentContext?"function"==typeof t.components?t.components(s):t.components||s:a(t.components),i.createElement(o.Provider,{value:e},t.children)}}}]);